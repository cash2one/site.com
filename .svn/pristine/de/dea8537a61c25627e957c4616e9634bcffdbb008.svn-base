window._BFD=window._BFD||{};_BFD.addEvent=function(e,d,f){if(e.addEventListener){e.addEventListener(d,f,false)}else{if(e.attachEvent){e.attachEvent("on"+d,function(){f.call(e)})}else{e["on"+d]=f}}};_BFD.removeEvent=function(e,d,f){if(e.removeEventListener){e.removeEventListener(d,f,false)}else{if(e.detachEvent){e.detachEvent("on"+d,function(){f.call(e)})}else{e["on"+d]=null}}};_BFD.createElement=function(g,f){var h=document.createElement(g);if(f){for(var e in f){if(f.hasOwnProperty(e)){if(e==="class"||e==="className"){h.className=f[e]}else{if(e==="style"){h.style.cssText=f[e]}else{h.setAttribute(e,f[e])}}}}}return h};_BFD.loadScript=function(d,c){setTimeout(function(){var a=_BFD.createElement("script",{src:d,type:"text/javascript"});if(a.readyState){_BFD.addEvent(a,"readystatechange",function(){if(a.readyState==="loaded"||a.readyState==="complete"){if(c){c()}_BFD.removeEvent(a,"readystatechange",arguments.callee)}})}else{_BFD.addEvent(a,"load",function(){if(c){c()}_BFD.removeEvent(a,"load",arguments.callee)})}document.getElementsByTagName("head")[0].appendChild(a)},0)};_BFD.getByAttribute=function(l,k,j){var i=[],j=(j)?j:document,n=j.getElementsByTagName("*"),o=new RegExp("\\b"+k+"\\b","i");for(var p=0;p<n.length;p++){var m=n[p];if(l==="className"||l==="class"){if(o.test(m.className)){i.push(m)}}else{if(m.getAttribute(l)===k){i.push(m)}}}return i};_BFD.getByClass=function(c,d){return _BFD.getByAttribute("className",c,d)};_BFD.getById=function(b){if(typeof b==="string"&&!!b){return document.getElementById(b)}};_BFD.loadCss=function(d){var c=_BFD.createElement("link",{href:d,rel:"stylesheet",type:"text/css"});document.getElementsByTagName("head")[0].appendChild(c)};_BFD.insertAfter=function(g,h){var e=h.parentNode;if(e.lastChild==h){e.appendChild(g)}else{var f=h.nextElementSibling||h.nextSibling;e.insertBefore(g,f)}};_BFD.Banner=function(b,d,a){this.callback=d;this.args=a;this.positionstr=b.pos_dom;this.bid=b.bid;if(b.json_args){this.json_str=c(b.json_args)}else{this.json_str="{}"}this.div_id="bfd_"+b.bid;this.div_class_name="bfd_border";function c(f){var g=[];for(var e in f){g.push('"'+e+'":"'+f[e]+'"')}return"{"+g.join(",")+"}"}};_BFD.handleResults=function(e,g){if(g&&g[2]&&g[2].length>0){var f=g[2];for(var b=0;b<f.length;b++){var h=e[b];var c=f[b][3];var a=f[b][2];var j=h.bid;var d=h.args;if(c&&c.length>0){h.callback(c,a,j,d)}}}};_BFD.parseBanners=function(b,f,g){var e=[],a=[];for(var c=0,d;d=f[c++];){e.push(d.bid);if(d.json_str&&d.json_str.length>0&&d.json_str!="{}"){a.push("rec_"+d.bid+"$"+d.json_str)}else{a.push("rec_"+d.bid)}}if(f.length){b.bidlst=e.join("|");b.req=a.join("|");g.send(b,function(h){_BFD.handleResults(f,h)})}};_BFD.loadScript(("https:"==document.location.protocol?"https://ssl-static":"http://static")+".baifendian.com/api/2.0/bcore.min.js",function(){var a=(function(){function b(){var f=new $Core(function(){});var c=$Core.tools.Tools;f.options.cid=_BFD.client_id;if(_BFD.BFD_INFO){var d=_BFD.BFD_INFO.user_id+"";f.options.uid=d}if(typeof(f.options.uid)=="undefined"||f.options.uid==""||f.options.uid=="0"||f.options.uid==null||f.options.uid=="undefined"){f.options.uid=f.options.sid}f.options.d_s="pc";_BFD.bfd_show=function(j,h,g,i){var k=_BFD.show_recommended(i,g);_BFD.show_template(j,k,h,g,i)};_BFD.show_recommended=function(h,g){};_BFD.show_content=function(i,g,h){};_BFD.show_template=function(g,k,i,h,j){};_BFD.banners={hp:[],ls:[],dt:[]};if(!_BFD.BFD_INFO){_BFD.BFD_INFO={}}else{var e=this[_BFD.BFD_INFO.page_type];if(e&&typeof e==="function"){e.call(this,f)}else{this.dft(f)}}}b.prototype={homepage:function(e){e.options.p_t="hp";var c=new $Core.inputs.PageView();c.p_p="";e.send(c);var d=new $Core.inputs.AddUser();d.user_id=_BFD.BFD_USER.user_cookie;e.send(d)},detail:function(o){o.options.p_t="dt";var q=_BFD.BFD_INFO.id;var v=_BFD.BFD_INFO.name;var k=_BFD.BFD_INFO.link;var s=_BFD.BFD_INFO.price;var t=_BFD.BFD_INFO.category;var n=_BFD.BFD_INFO.brand;var c=_BFD.BFD_INFO.stock;var r=_BFD.BFD_INFO.onsale;var d=_BFD.BFD_INFO.image_link;var g=_BFD.BFD_INFO.market_price;o.send(new BCore.inputs.Visit(q));var h=[];if(t&&t instanceof Array){for(var u=0;u<t.length;u++){h.push(t[u][0])}}if(!r||r=="false"||c==0||v==""||k==""||d==""){o.send(new $Core.inputs.RmItem(q))}else{var l=new $Core.inputs.AddItem(q);l.name=v;l.url=k;l.img=d;l.prc=s;l.mktp=g;l.cat=h;l.brd=n;l.stock=c;o.send(l)}if(h.length>0){var j=h[h.length-1];o.send(new $Core.inputs.VisitCat(h.join("$")));var m=new $Core.inputs.AddCat(j);if(t.length>0){m.url=t[t.length-1][1];var p=t.concat();p.pop();m.ptree=new $Core.inputs.JObject().toString(p);o.send(m)}}var e=new $Core.inputs.PageView();e.p_p="";o.send(e);var f=new $Core.inputs.AddUser();f.user_id=_BFD.BFD_USER.user_cookie;o.send(f)},dft:function(e){e.options.p_t="dft";var c=new $Core.inputs.PageView();c.p_p="";e.send(c);var d=new $Core.inputs.AddUser();d.user_id=_BFD.BFD_USER.user_cookie;e.send(d)}};return b})();new a()});